// Translations
const translations = {
  cs: {
    // Navigation
    "nav.bio": "bio",
    "nav.concerts": "koncerty",
    "nav.merch": "merch",
    "nav.contact": "kontakt",
    "nav.press": "média",
    "nav.organizer": "pořadatel",

    // Concerts section
    "concerts.upcoming": "Nadcházející koncerty",
    "concerts.loading": "Načítám...",
    "concerts.more": "více",
    "concerts.less": "méně",
    "concerts.eventLink": "web události →",

    // Merch section
    "merch.banner": "Oficiální merch exorcizphobia",
    "merch.shop": "Pro merch tudy",
    "merch.title": "Hudba",
    "merch.cds": "CD",
    "merch.lps": "LP",
    "merch.mcs": "MC",
    "merch.textiles": "Oblečení",
    "merch.shirts": "Trika",
    "merch.hoodies": "Mikiny",
    "merch.accessories": "Doplňky",
    "merch.price": "Cena:",
    "merch.sizes": "velikost: S - 3XL",
    "merch.sizeLabel": "Velikost:",
    "merch.buy": "Chci",
    "merch.shirtBlack": "Triko Neurosis Unbound",
    "merch.long": "Triko Neurosis dlouhý rukáv",
    "merch.friend": "Triko Friend of Lunacy",
    "merch.friendRed": "Triko Friend of Lunacy red",
    "merch.hoodie": "Triko About Us dámské",
    "merch.disease": "Triko Disease Inside",
    "merch.hoodieLogo": "Triko Mosh and Destroy bílé",
    "merch.hoodieLogoBlack": "Triko Mosh and Destroy černé",
    "merch.hoodieBlack": "Mikina Neurosis Unbound",
    "merch.hoodieSpiritual": "Mikina Spiritual Exodus dámská",
    "merch.hoodieDigitotality": "Mikina Digitotality",
    "merch.bandana": "Bandana",
    "merch.hat": "Čepice",
    "merch.glasses": "Brýle",
    "merch.cap": "Kšiltovka",
    "merch.potitko": "Potítko",
    "merch.skate": "Skate desk Spiritual Exodus",

    // Bio section
    "bio.title": "Exorcizphobia",
    "bio.content1": "Exorcizphobia je thrash metalová kapela z Trutnova založená roku 2005. Kapela kombinuje rychlost a přesnost klasického thrash metalu s hardcoreovou intenzitou a moderním přístupem.",
    "bio.content2": "Po získání Ceny Anděl (české Grammy) za album Spiritual Exodus se kapela vrací s nejosobnějším a nejintenzivnějším dílem – albem Neurosis Unbound (2026, Doomentia Records).",
    "bio.content3": "Exorcizphobia jsou známí svými explozivními koncerty, evropskými turné, hraním a spoluprací s legendami jako Voivod, Exhorder, Napalm Death, Exodus, D.R.I. či Artillery, ale i účastí na velkých festivalech typu Brutal Assault, Obscene Extreme, Mystic Festival, Tolminator a Czech Death Fest.",
    "bio.tomas": "kytara, vokál",
    "bio.ondra": "sólová kytara",
    "bio.ales": "baskytara",
    "bio.tomaskejkrt": "bicí",

    // Media/Organizer links
    "media.more": "info pro média",
    "organizer.more": "info pro pořadatele",

    // Order summary
    "merch.order": "Objednávka",
    "merch.orderEmpty": "Objednávka je prázdná",
    "merch.remove": "Odebrat",
    "merch.quantity": "Počet",

    // Order form
    "merch.orderForm": "Odeslat objednávku",
    "merch.form.name": "Jméno a příjmení:",
    "merch.form.email": "E-mail:",
    "merch.form.phone": "Telefon:",
    "merch.form.items": "Vybrané položky:",
    "merch.form.message": "Poznámka:",
    "merch.form.submit": "Odeslat objednávku",

    // Contact section
    "contact.title": "Kontakt",
    "contact.email": "E-mail: info@exorcizphobia.com",
    "contact.phone": "Telefon: +420733430334",

    // Footer
    "footer.rights": "© 2025 Exorcizphobia. Všechna práva vyhrazena.",
    "footer.created": "vytvořeno:",

    // Gallery aria labels
    "gallery.prev": "Předchozí",
    "gallery.next": "Další",

    // Media page
    "media.title": "informace pro média",
    "media.summary.p1": "Kapela vznikla roku 2005 v Trutnově, kdy ji založili Tomáš Skořepa, Jan Erben a Jakub Václav. Jako parta mladých metalistů začali hrát covery svých vzorů jako Black Sabbath, Judas Priest či Slayer. Po příchodu kytaristy Josefa Valkouna začali tvořit vlastní materiál a objevovat se na lokálních pódiích.",
    "media.summary.p2": "Debutové EP <i>Disease Inside</i> (2009) odstartovalo jejich nahrávací kariéru a následovalo první dlouhohrající album <i>Something Is Wrong</i> (2012). V roce 2010 se do historie kapely zapsal nezapomenutelný okamžik – Tomáš Skořepa odehrál celý koncert s americkými <strong>D.R.I.</strong> na <strong>Obscene Extreme Festivalu</strong>, když jejich kytarista Spike Cassidy onemocněl.",
    "media.summary.p3": "Po několika personálních změnách a dvou albech (<i>About Us Without Us</i>, <i>Digitotality</i>) kapela spojila síly s <strong>Doomentia Records</strong>, pod nimiž vydala <i>Spiritual Exodus</i> (2023). Album získalo široké uznání a ocenění <strong>Anděl (česká Grammy)</strong> i <strong>Břitva Awards</strong>.",
    "media.summary.p4": "V letech 2023–2025 kapela intenzivně koncertuje po Evropě, vystupuje s <strong>Voivod</strong>, <strong>Exhorder</strong> a dalšími legendami, a slaví <strong>20 let existence</strong> živým záznamem z <i>Monsters of Metal & HC</i>.",
    "media.summary.p5": "V březnu 2026 vychází páté studiové album <i>Neurosis Unbound</i>, které spojuje klasický thrash s temnějšími a HC prvky a otevírá novou etapu v historii kapely.",
    "media.videos.title": "oficiální videa",
    "media.podcast.title": "podcasty",
    "media.download.title": "soubory ke stažení",
    "media.playVideo": "Přehrát video na YouTube",

    // Organizer page
    "organizer.title": "Pro pořadatele",
    "organizer.subtitle": "ke stažení:",
  },

  en: {
    // Navigation
    "nav.bio": "bio",
    "nav.concerts": "concerts",
    "nav.merch": "merch",
    "nav.contact": "contact",
    "nav.press": "press",
    "nav.organizer": "organizer",

    // Concerts section
    "concerts.upcoming": "Upcoming Concerts",
    "concerts.loading": "Loading...",
    "concerts.more": "more",
    "concerts.less": "less",
    "concerts.eventLink": "event website →",

    // Merch section
    "merch.banner": "Official Exorcizphobia merch",
    "merch.shop": "Get merch here",
    "merch.title": "Music",
    "merch.cds": "CD",
    "merch.lps": "LP",
    "merch.mcs": "MC",
    "merch.textiles": "Clothing",
    "merch.shirts": "T-Shirts",
    "merch.hoodies": "Hoodies",
    "merch.accessories": "Accessories",
    "merch.price": "Price:",
    "merch.sizes": "size: S - 3XL",
    "merch.sizeLabel": "Size:",
    "merch.buy": "Buy",
    "merch.shirtBlack": "T-Shirt Neurosis Unbound",
    "merch.long": "T-Shirt Neurosis Long Sleeve",
    "merch.friend": "T-Shirt Friend of Lunacy",
    "merch.friendRed": "T-Shirt Friend of Lunacy Red",
    "merch.hoodie": "T-Shirt About Us Women",
    "merch.disease": "T-Shirt Disease Inside",
    "merch.hoodieLogo": "T-Shirt Mosh and Destroy White",
    "merch.hoodieLogoBlack": "T-Shirt Mosh and Destroy Black",
    "merch.hoodieBlack": "Hoodie Neurosis Unbound",
    "merch.hoodieSpiritual": "Hoodie Spiritual Exodus Women",
    "merch.hoodieDigitotality": "Hoodie Digitotality",
    "merch.bandana": "Bandana",
    "merch.hat": "Beanie",
    "merch.glasses": "Glasses",
    "merch.cap": "Cap",
    "merch.potitko": "Wristband",
    "merch.skate": "Skate Deck Spiritual Exodus",

    // Bio section
    "bio.title": "Exorcizphobia",
    "bio.content1": "Exorcizphobia is a thrash metal band from Trutnov, Czech Republic, founded in 2005. The band combines the speed and precision of classic thrash metal with hardcore intensity and a modern approach.",
    "bio.content2": "After winning the Anděl Award (Czech Grammy) for the album Spiritual Exodus, the band returns with their most personal and intense work – the album Neurosis Unbound (2026, Doomentia Records).",
    "bio.content3": "Exorcizphobia are known for their explosive live shows, European tours, playing and collaborating with legends like Voivod, Exhorder, Napalm Death, Exodus, D.R.I. and Artillery, as well as participating in major festivals such as Brutal Assault, Obscene Extreme, Mystic Festival, Tolminator and Czech Death Fest.",
    "bio.tomas": "guitar, vocals",
    "bio.ondra": "lead guitar",
    "bio.ales": "bass",
    "bio.tomaskejkrt": "drums",

    // Media/Organizer links
    "media.more": "press info",
    "organizer.more": "organizer info",

    // Order summary
    "merch.order": "Order",
    "merch.orderEmpty": "Order is empty",
    "merch.remove": "Remove",
    "merch.quantity": "Quantity",

    // Order form
    "merch.orderForm": "Send Order",
    "merch.form.name": "Name:",
    "merch.form.email": "E-mail:",
    "merch.form.phone": "Phone:",
    "merch.form.items": "Selected items:",
    "merch.form.message": "Note:",
    "merch.form.submit": "Send Order",

    // Contact section
    "contact.title": "Contact",
    "contact.email": "E-mail: info@exorcizphobia.com",
    "contact.phone": "Phone: +420733430334",

    // Footer
    "footer.rights": "© 2025 Exorcizphobia. All rights reserved.",
    "footer.created": "created by:",

    // Gallery aria labels
    "gallery.prev": "Previous",
    "gallery.next": "Next",

    // Media page
    "media.title": "press information",
    "media.summary.p1": "The band was formed in 2005 in Trutnov by Tomáš Skořepa, Jan Erben and Jakub Václav. As a group of young metalheads, they started playing covers of their idols like Black Sabbath, Judas Priest and Slayer. After guitarist Josef Valkoun joined, they began creating original material and appearing on local stages.",
    "media.summary.p2": "The debut EP <i>Disease Inside</i> (2009) launched their recording career, followed by the first full-length album <i>Something Is Wrong</i> (2012). In 2010, an unforgettable moment was written into the band's history – Tomáš Skořepa played an entire concert with American <strong>D.R.I.</strong> at <strong>Obscene Extreme Festival</strong> when their guitarist Spike Cassidy fell ill.",
    "media.summary.p3": "After several lineup changes and two albums (<i>About Us Without Us</i>, <i>Digitotality</i>), the band joined forces with <strong>Doomentia Records</strong>, under which they released <i>Spiritual Exodus</i> (2023). The album received wide acclaim and won both the <strong>Anděl Award (Czech Grammy)</strong> and <strong>Břitva Awards</strong>.",
    "media.summary.p4": "Between 2023–2025, the band toured extensively across Europe, performed with <strong>Voivod</strong>, <strong>Exhorder</strong> and other legends, and celebrated <strong>20 years of existence</strong> with a live recording from <i>Monsters of Metal & HC</i>.",
    "media.summary.p5": "In March 2026, the fifth studio album <i>Neurosis Unbound</i> is released, combining classic thrash with darker and HC elements and opening a new chapter in the band's history.",
    "media.videos.title": "official videos",
    "media.podcast.title": "podcasts",
    "media.download.title": "downloads",
    "media.playVideo": "Play video on YouTube",

    // Organizer page
    "organizer.title": "For Organizers",
    "organizer.subtitle": "downloads:",
  },
};

// Get saved language or default to Czech
function getSavedLanguage() {
  return localStorage.getItem("exorcizphobia-lang") || "cs";
}

// Save language preference
function saveLanguage(lang) {
  localStorage.setItem("exorcizphobia-lang", lang);
}

// Apply translations to the page
function applyTranslations(lang) {
  const t = translations[lang];
  if (!t) return;

  // Update all elements with data-key attribute
  document.querySelectorAll("[data-key]").forEach((el) => {
    const key = el.getAttribute("data-key");
    if (t[key]) {
      // Check if translation contains HTML
      if (t[key].includes("<")) {
        el.innerHTML = t[key];
      } else {
        el.textContent = t[key];
      }
    }
  });

  // Update html lang attribute
  document.documentElement.lang = lang;

  // Update active button state
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    if (btn.getAttribute("data-lang") === lang) {
      btn.classList.add("active");
    } else {
      btn.classList.remove("active");
    }
  });

  // Update "more/less" button text if it exists
  const showMoreBtn = document.querySelector(".showMoreBtn");
  if (showMoreBtn) {
    if (showMoreBtn.classList.contains("expanded")) {
      showMoreBtn.textContent = t["concerts.less"];
    } else {
      showMoreBtn.textContent = t["concerts.more"];
    }
  }

  // Update loading text if it exists
  const loading = document.querySelector(".tableLoading");
  if (loading) {
    loading.textContent = t["concerts.loading"];
  }
}

// Initialize language switcher
function initLanguageSwitcher() {
  const currentLang = getSavedLanguage();
  applyTranslations(currentLang);

  // Add click handlers to all language buttons
  document.querySelectorAll(".lang-btn").forEach((btn) => {
    btn.addEventListener("click", () => {
      const lang = btn.getAttribute("data-lang");
      saveLanguage(lang);
      applyTranslations(lang);
    });
  });
}

// Initialize on DOM ready
if (document.readyState === "loading") {
  document.addEventListener("DOMContentLoaded", initLanguageSwitcher);
} else {
  initLanguageSwitcher();
}

// Export for use in other scripts
window.i18n = {
  t: (key) => {
    const lang = getSavedLanguage();
    return translations[lang]?.[key] || translations.cs[key] || key;
  },
  getCurrentLang: getSavedLanguage,
  applyTranslations,
};
